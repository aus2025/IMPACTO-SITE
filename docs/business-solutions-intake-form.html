<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Assessment</title>
    <style>
        :root {
            --primary-bg: #f0f5ff;
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #475569;
            --light-bg: #ffffff;
            --border-color: #cbd5e1;
            --success-color: #10b981;
            --error-color: #ef4444;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--primary-bg);
            color: #1e293b;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: var(--light-bg);
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        header {
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        
        h1 {
            color: var(--primary-dark);
            margin: 0;
            font-size: 1.8rem;
        }
        
        .form-subtitle {
            color: var(--secondary-color);
            margin-top: 10px;
        }
        
        .form-section {
            display: none;
            margin-bottom: 25px;
            animation: fadeIn 0.5s;
        }
        
        .form-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--light-bg);
            font-size: 1rem;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .checkbox-group {
            margin-top: 8px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .checkbox-option input[type="checkbox"] {
            margin-right: 10px;
        }
        
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .radio-option {
            flex: 1 0 30%;
            min-width: 200px;
            background-color: var(--primary-bg);
            border-radius: 6px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .radio-option:hover {
            background-color: rgba(240, 245, 255, 0.8);
        }
        
        .radio-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.1);
        }
        
        .radio-option input[type="radio"] {
            display: none;
        }
        
        .radio-option label {
            cursor: pointer;
            display: block;
            margin: 0;
            font-weight: 500;
        }
        
        .range-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.8rem;
            color: var(--secondary-color);
        }
        
        .tip {
            font-size: 0.85rem;
            color: var(--secondary-color);
            font-style: italic;
            margin-top: 6px;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .btn-prev {
            background-color: var(--light-bg);
            color: var(--secondary-color);
            border: 1px solid var(--border-color);
        }
        
        .btn-prev:hover {
            background-color: var(--primary-bg);
        }
        
        .btn-next {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-next:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-submit {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-submit:hover {
            background-color: #0d9488;
        }
        
        .progress-container {
            margin-bottom: 30px;
            padding-top: 10px;
        }
        
        .progress-bar {
            height: 6px;
            background-color: var(--border-color);
            border-radius: 3px;
            position: relative;
        }
        
        .progress-bar-fill {
            position: absolute;
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 3px;
            transition: width 0.3s;
        }
        
        .progress-text {
            text-align: right;
            font-size: 0.8rem;
            color: var(--secondary-color);
            margin-top: 5px;
        }
        
        .rating-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        
        .rating-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
            background-color: var(--primary-bg);
            border: 2px solid var(--border-color);
            color: var(--secondary-color);
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .rating-circle.selected {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }
        
        .rating-label {
            font-size: 0.7rem;
            color: var(--secondary-color);
            text-align: center;
        }
        
        .thank-you {
            text-align: center;
            padding: 40px 20px;
        }
        
        .thank-you h2 {
            color: var(--primary-dark);
            margin-bottom: 20px;
        }
        
        .thank-you p {
            margin-bottom: 15px;
        }
        
        .success-icon {
            font-size: 60px;
            color: var(--success-color);
            margin-bottom: 20px;
        }
        
        .error {
            color: var(--error-color);
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        
        .required label:after {
            content: " *";
            color: var(--error-color);
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                margin: 20px;
                padding: 15px;
            }
            
            .radio-group {
                flex-direction: column;
            }
            
            .radio-option {
                width: 100%;
                min-width: 0;
            }
            
            button {
                padding: 10px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Business Assessment</h1>
            <p class="form-subtitle">Help us understand your business needs to provide the most effective automation solutions.</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-bar-fill" style="width: 0%"></div>
            </div>
            <div class="progress-text">0% Complete</div>
        </div>
        
        <form id="needs-assessment">
            <!-- Section 1: Contact Information -->
            <div class="form-section active" data-section="1">
                <h2>Contact Information</h2>
                
                <div class="form-group required">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required>
                    <div class="error" id="fullName-error">Please enter your name</div>
                </div>
                
                <div class="form-group required">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                    <div class="error" id="email-error">Please enter a valid email address</div>
                </div>
                
                <div class="form-group required">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required>
                    <div class="error" id="phone-error">Please enter your phone number</div>
                </div>
                
                <div class="form-group">
                    <label for="company">Company Name</label>
                    <input type="text" id="company" name="company">
                </div>
                
                <div class="form-group">
                    <label for="role">Your Role</label>
                    <select id="role" name="role">
                        <option value="">Select your role</option>
                        <option value="owner">Business Owner</option>
                        <option value="executive">Executive/C-Level</option>
                        <option value="manager">Manager</option>
                        <option value="director">Director</option>
                        <option value="other">Other</option>
                    </select>
                    <p class="tip">Knowing your role helps us tailor our recommendations to your specific needs and authority level.</p>
                </div>
                
                <div class="buttons">
                    <div></div> <!-- Empty div for spacing -->
                    <button type="button" class="btn-next" data-next="2">Next</button>
                </div>
            </div>
            
            <!-- Section 2: Business Information -->
            <div class="form-section" data-section="2">
                <h2>About Your Business</h2>
                
                <div class="form-group">
                    <label for="industry">Industry</label>
                    <select id="industry" name="industry">
                        <option value="">Select your industry</option>
                        <option value="technology">Technology</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="finance">Finance/Banking</option>
                        <option value="retail">Retail/E-commerce</option>
                        <option value="manufacturing">Manufacturing</option>
                        <option value="professional">Professional Services</option>
                        <option value="education">Education</option>
                        <option value="construction">Construction</option>
                        <option value="hospitality">Hospitality</option>
                        <option value="other">Other</option>
                    </select>
                    <p class="tip">Different industries have unique automation needs and requirements.</p>
                    
                    <!-- Healthcare-specific questions -->
                    <div id="healthcare-questions" class="industry-specific-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f0f9ff; border-left: 3px solid #0369a1; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">Healthcare-Specific Questions:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="compliance_concerns" style="font-weight: 500;">Which compliance regulations affect your operations? (Select all that apply)</label>
                            <div style="margin-top: 8px;">
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="compliance1" name="compliance_concerns" value="hipaa">
                                    <label for="compliance1">HIPAA</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="compliance2" name="compliance_concerns" value="hitrust">
                                    <label for="compliance2">HITRUST</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="compliance3" name="compliance_concerns" value="gdpr">
                                    <label for="compliance3">GDPR</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="compliance4" name="compliance_concerns" value="other_compliance">
                                    <label for="compliance4">Other</label>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="patient_data" style="font-weight: 500;">Do your automation needs include patient data management?</label>
                            <select id="patient_data" name="patient_data" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="yes">Yes, extensively</option>
                                <option value="partial">Yes, partially</option>
                                <option value="no">No, not directly</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Retail-specific questions -->
                    <div id="retail-questions" class="industry-specific-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f0f9ff; border-left: 3px solid #0369a1; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">Retail-Specific Questions:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="inventory_management" style="font-weight: 500;">How do you currently manage inventory?</label>
                            <select id="inventory_management" name="inventory_management" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="manual">Manual tracking (spreadsheets)</option>
                                <option value="basic_software">Basic inventory software</option>
                                <option value="erp">ERP system</option>
                                <option value="specialized">Specialized inventory system</option>
                                <option value="none">No formal system</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="sales_channels" style="font-weight: 500;">Which sales channels do you use? (Select all that apply)</label>
                            <div style="margin-top: 8px;">
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="channel1" name="sales_channels" value="physical">
                                    <label for="channel1">Physical store(s)</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="channel2" name="sales_channels" value="own_website">
                                    <label for="channel2">Own website</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="channel3" name="sales_channels" value="amazon">
                                    <label for="channel3">Amazon</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="channel4" name="sales_channels" value="other_marketplace">
                                    <label for="channel4">Other marketplaces</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="channel5" name="sales_channels" value="wholesale">
                                    <label for="channel5">Wholesale/B2B</label>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label for="customer_loyalty" style="font-weight: 500;">Do you have a customer loyalty program?</label>
                            <select id="customer_loyalty" name="customer_loyalty" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="yes_automated">Yes, fully automated</option>
                                <option value="yes_manual">Yes, manually managed</option>
                                <option value="planning">Planning to implement one</option>
                                <option value="no">No loyalty program</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="employees">Number of Employees</label>
                    <select id="employees" name="employees">
                        <option value="">Select range</option>
                        <option value="1-10">1-10</option>
                        <option value="11-50">11-50</option>
                        <option value="51-200">51-200</option>
                        <option value="201-500">201-500</option>
                        <option value="500+">500+</option>
                    </select>
                    
                    <!-- Small business specific questions -->
                    <div id="small-business-questions" class="size-specific-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f0fdf4; border-left: 3px solid #166534; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">Small Business Automation Foundations:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="owner_involvement" style="font-weight: 500;">How involved is the owner in day-to-day operations?</label>
                            <select id="owner_involvement" name="owner_involvement" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="highly_involved">Highly involved in all aspects</option>
                                <option value="moderately">Moderately involved in key areas</option>
                                <option value="limited">Limited involvement in daily operations</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="growth_challenges" style="font-weight: 500;">What's your biggest challenge to growth right now?</label>
                            <select id="growth_challenges" name="growth_challenges" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="time">Not enough time in the day</option>
                                <option value="staff">Limited staff resources</option>
                                <option value="processes">Inconsistent processes</option>
                                <option value="technology">Limited technology/tools</option>
                                <option value="knowledge">Limited expertise in certain areas</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Large organization specific questions -->
                    <div id="large-org-questions" class="size-specific-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f0fdf4; border-left: 3px solid #166534; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">Enterprise Integration Questions:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="departments_involved" style="font-weight: 500;">Which departments would be involved in this automation initiative? (Select all that apply)</label>
                            <div style="margin-top: 8px;">
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="dept1" name="departments_involved" value="it">
                                    <label for="dept1">IT</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="dept2" name="departments_involved" value="operations">
                                    <label for="dept2">Operations</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="dept3" name="departments_involved" value="sales">
                                    <label for="dept3">Sales/Marketing</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="dept4" name="departments_involved" value="finance">
                                    <label for="dept4">Finance</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="dept5" name="departments_involved" value="hr">
                                    <label for="dept5">HR</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="dept6" name="departments_involved" value="executive">
                                    <label for="dept6">Executive</label>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="integration_complexity" style="font-weight: 500;">How complex are your current system integrations?</label>
                            <select id="integration_complexity" name="integration_complexity" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="minimal">Minimal - Systems mostly operate independently</option>
                                <option value="moderate">Moderate - Some key systems are integrated</option>
                                <option value="complex">Complex - Multiple integrated systems</option>
                                <option value="very_complex">Very complex - Extensive integration ecosystem</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="decision_makers" style="font-weight: 500;">Who makes the final decision on technology investments?</label>
                            <select id="decision_makers" name="decision_makers" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="cio">CIO/CTO</option>
                                <option value="ceo">CEO</option>
                                <option value="committee">Technology committee</option>
                                <option value="department">Department head</option>
                                <option value="board">Board approval required</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>What are your primary business goals for the next 12 months?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal1" name="goals" value="increase_revenue">
                            <label for="goal1">Increase revenue</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal2" name="goals" value="reduce_costs">
                            <label for="goal2">Reduce operational costs</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal3" name="goals" value="improve_efficiency">
                            <label for="goal3">Improve operational efficiency</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal4" name="goals" value="scale_business">
                            <label for="goal4">Scale the business</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal5" name="goals" value="customer_experience">
                            <label for="goal5">Enhance customer experience</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="goal6" name="goals" value="employee_satisfaction">
                            <label for="goal6">Improve employee satisfaction</label>
                        </div>
                    </div>
                    <p class="tip">Select all that apply. Your goals help us prioritize which automation solutions will deliver the most value.</p>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="1">Previous</button>
                    <button type="button" class="btn-next" data-next="3">Next</button>
                </div>
            </div>
            
            <!-- Section 3: Challenges Assessment -->
            <div class="form-section" data-section="3">
                <h2>Business Challenges</h2>
                <p>Rate each area based on your current level of challenge or frustration:</p>
                
                <div class="form-group">
                    <label>Financial Processing & Contract Management</label>
                    <div class="rating-scale" data-name="financial_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="financial_challenge" id="financial_challenge">
                    <p class="tip">Consider how much time is spent processing payments, managing contracts, and tracking financial documents.</p>
                    
                    <!-- Conditional follow-up questions for financial processing -->
                    <div id="financial_challenge_followup" class="follow-up-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f8fafc; border-left: 3px solid #2563eb; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">We noticed this is a significant challenge area. A few more details will help us craft the right solution:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="invoice_volume" style="font-weight: 500;">Approximately how many invoices/payments do you process monthly?</label>
                            <select id="invoice_volume" name="invoice_volume" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="1-25">1-25</option>
                                <option value="26-100">26-100</option>
                                <option value="101-500">101-500</option>
                                <option value="500+">More than 500</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="font-weight: 500;">What are your biggest financial processing pain points? (Select all that apply)</label>
                            <div style="margin-top: 8px;">
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="fin_pain1" name="financial_pain_points" value="manual_entry">
                                    <label for="fin_pain1">Manual data entry</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="fin_pain2" name="financial_pain_points" value="approval_delays">
                                    <label for="fin_pain2">Approval delays</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="fin_pain3" name="financial_pain_points" value="document_tracking">
                                    <label for="fin_pain3">Document tracking/retrieval</label>
                                </div>
                                <div style="margin-bottom: 8px;">
                                    <input type="checkbox" id="fin_pain4" name="financial_pain_points" value="reconciliation">
                                    <label for="fin_pain4">Reconciliation challenges</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="fin_pain5" name="financial_pain_points" value="reporting">
                                    <label for="fin_pain5">Financial reporting</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Client Onboarding Process</label>
                    <div class="rating-scale" data-name="onboarding_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="onboarding_challenge" id="onboarding_challenge">
                    <p class="tip">Consider how smooth, consistent and efficient your process is for setting up new clients.</p>
                </div>
                
                <div class="form-group">
                    <label>Sales/Revenue Pipeline Management</label>
                    <div class="rating-scale" data-name="pipeline_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="pipeline_challenge" id="pipeline_challenge">
                    <p class="tip">Consider how effectively you track leads, opportunities, and forecast revenue.</p>
                </div>
                
                <div class="form-group">
                    <label>Proposal Development Process</label>
                    <div class="rating-scale" data-name="proposal_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="proposal_challenge" id="proposal_challenge">
                    <p class="tip">Consider how long it takes to create proposals and how consistent they are in quality.</p>
                    
                    <!-- Conditional follow-up questions for proposal development -->
                    <div id="proposal_challenge_followup" class="follow-up-questions" style="display:none; margin-top: 15px; padding: 15px; background-color: #f8fafc; border-left: 3px solid #2563eb; border-radius: 4px;">
                        <p style="font-weight: 600; margin-bottom: 10px;">We noticed this is a significant challenge area. A few more details will help us craft the right solution:</p>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="proposal_volume" style="font-weight: 500;">How many proposals does your team create monthly?</label>
                            <select id="proposal_volume" name="proposal_volume" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="1-5">1-5 proposals</option>
                                <option value="6-15">6-15 proposals</option>
                                <option value="16-30">16-30 proposals</option>
                                <option value="30+">More than 30 proposals</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label for="proposal_approval" style="font-weight: 500;">What does your current approval process look like?</label>
                            <select id="proposal_approval" name="proposal_approval" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="none">No formal approval process</option>
                                <option value="single">Single approver (e.g., manager)</option>
                                <option value="multi">Multiple approvers (sequential)</option>
                                <option value="committee">Committee review</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="proposal_time" style="font-weight: 500;">On average, how long does it take to create a proposal?</label>
                            <select id="proposal_time" name="proposal_time" style="margin-top: 5px;">
                                <option value="">Please select</option>
                                <option value="hours">A few hours</option>
                                <option value="day">About a day</option>
                                <option value="days">2-3 days</option>
                                <option value="week">A week or more</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Project Management & Task Coordination</label>
                    <div class="rating-scale" data-name="project_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="project_challenge" id="project_challenge">
                    <p class="tip">Consider how effectively you manage deadlines, resources, and project communications.</p>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="2">Previous</button>
                    <button type="button" class="btn-next" data-next="4">Next</button>
                </div>
            </div>
            
            <!-- Section 4: More Challenges -->
            <div class="form-section" data-section="4">
                <h2>More Business Challenges</h2>
                <p>Continue rating each area:</p>
                
                <div class="form-group">
                    <label>Client Relationship Management</label>
                    <div class="rating-scale" data-name="crm_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="crm_challenge" id="crm_challenge">
                    <p class="tip">Consider how well you track client interactions and maintain strong relationships.</p>
                </div>
                
                <div class="form-group">
                    <label>Analytics & Reporting</label>
                    <div class="rating-scale" data-name="reporting_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="reporting_challenge" id="reporting_challenge">
                    <p class="tip">Consider how difficult it is to compile reports and get meaningful insights from your data.</p>
                </div>
                
                <div class="form-group">
                    <label>Client Communication</label>
                    <div class="rating-scale" data-name="communication_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="communication_challenge" id="communication_challenge">
                    <p class="tip">Consider how effectively you communicate updates and milestones to clients.</p>
                </div>
                
                <div class="form-group">
                    <label>Internal Workflow Efficiency</label>
                    <div class="rating-scale" data-name="workflow_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="workflow_challenge" id="workflow_challenge">
                    <p class="tip">Consider how many manual processes or redundancies exist in your operations.</p>
                </div>
                
                <div class="form-group">
                    <label>Talent/HR Management</label>
                    <div class="rating-scale" data-name="hr_challenge">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">No Issues</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Minor Issues</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Critical</div>
                        </div>
                    </div>
                    <input type="hidden" name="hr_challenge" id="hr_challenge">
                    <p class="tip">Consider your recruiting, onboarding, and employee management processes.</p>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="3">Previous</button>
                    <button type="button" class="btn-next" data-next="5">Next</button>
                </div>
            </div>
            
            <!-- Section 5: Current Systems -->
            <div class="form-section" data-section="5">
                <h2>Current Systems & Software</h2>
                
                <div class="form-group">
                    <label>Which software or tools do you currently use? (Select all that apply)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="software1" name="software" value="crm">
                            <label for="software1">CRM (Salesforce, HubSpot, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software2" name="software" value="accounting">
                            <label for="software2">Accounting Software (QuickBooks, Xero, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software3" name="software" value="project">
                            <label for="software3">Project Management (Asana, Monday, Trello, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software4" name="software" value="communication">
                            <label for="software4">Communication Tools (Slack, Teams, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software5" name="software" value="marketing">
                            <label for="software5">Marketing Automation (Mailchimp, Marketo, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software6" name="software" value="hr">
                            <label for="software6">HR Software (BambooHR, Workday, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software7" name="software" value="erp">
                            <label for="software7">ERP Systems (SAP, Oracle, NetSuite, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software8" name="software" value="documents">
                            <label for="software8">Document Management (DocuSign, etc.)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="software9" name="software" value="spreadsheets">
                            <label for="software9">Spreadsheets & Documents (Excel, Google Sheets, etc.)</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="other_software">Other software or tools not listed above:</label>
                    <textarea id="other_software" name="other_software" rows="3"></textarea>
                    <p class="tip">Please list any custom or industry-specific tools you use.</p>
                </div>
                
                <div class="form-group">
                    <label>How would you rate your current level of automation?</label>
                    <div class="rating-scale" data-name="automation_level">
                        <div class="rating-option" data-value="1">
                            <div class="rating-circle">1</div>
                            <div class="rating-label">Mostly Manual</div>
                        </div>
                        <div class="rating-option" data-value="2">
                            <div class="rating-circle">2</div>
                            <div class="rating-label">Basic Automation</div>
                        </div>
                        <div class="rating-option" data-value="3">
                            <div class="rating-circle">3</div>
                            <div class="rating-label">Moderate</div>
                        </div>
                        <div class="rating-option" data-value="4">
                            <div class="rating-circle">4</div>
                            <div class="rating-label">Significant</div>
                        </div>
                        <div class="rating-option" data-value="5">
                            <div class="rating-circle">5</div>
                            <div class="rating-label">Highly Automated</div>
                        </div>
                    </div>
                    <input type="hidden" name="automation_level" id="automation_level">
                </div>
                
                <div class="form-group">
                    <label for="integration_challenges">What are your biggest challenges with integrating your current systems?</label>
                    <textarea id="integration_challenges" name="integration_challenges" rows="3"></textarea>
                    <p class="tip">For example: data syncing issues, manual data transfer, duplicate entries, etc.</p>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="4">Previous</button>
                    <button type="button" class="btn-next" data-next="6">Next</button>
                </div>
            </div>
            
            <!-- Section 6: Priority Areas -->
            <div class="form-section" data-section="6">
                <h2>Priority Improvement Areas</h2>
                
                <div class="form-group">
                    <label>Which areas would you most like to improve with automation? (Select top 3)</label>
                    <div class="checkbox-group" id="priority-areas">
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority1" name="priorities" value="financial_processing">
                            <label for="priority1">Financial Processing & Contract Administration</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority2" name="priorities" value="client_onboarding">
                            <label for="priority2">Client Onboarding & Integration</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority3" name="priorities" value="revenue_optimization">
                            <label for="priority3">Revenue Pipeline Optimization</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority4" name="priorities" value="proposal_development">
                            <label for="priority4">Strategic Proposal Development</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority5" name="priorities" value="talent_acquisition">
                            <label for="priority5">Talent Acquisition & Orientation</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority6" name="priorities" value="project_management">
                            <label for="priority6">Project Lifecycle Management</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority7" name="priorities" value="client_relationship">
                            <label for="priority7">Client Relationship Management</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority8" name="priorities" value="performance_analytics">
                            <label for="priority8">Performance Analytics & Reporting</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority9" name="priorities" value="client_communication">
                            <label for="priority9">Client Communication Systems</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="priority10" name="priorities" value="workflow_enhancement">
                            <label for="priority10">Operational Workflow Enhancement</label>
                        </div>
                    </div>
                    <p class="tip">Choose the areas that would have the biggest positive impact on your business.</p>
                    <div class="error" id="priorities-error">Please select up to 3 priorities</div>
                </div>
                
                <div class="form-group">
                    <label for="specific_pain">What specific pain point or manual process takes up the most time in your business?</label>
                    <textarea id="specific_pain" name="specific_pain" rows="4"></textarea>
                    <p class="tip">The more specific you can be, the better we can target our solutions.</p>
                </div>
                
                <div class="form-group">
                    <label for="success_criteria">How would you measure success in an automation project? What specific metrics or outcomes are you hoping to achieve?</label>
                    <textarea id="success_criteria" name="success_criteria" rows="4"></textarea>
                    <p class="tip">Example: "Reduce proposal creation time from 3 days to 1 day" or "Eliminate manual data entry errors"</p>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="5">Previous</button>
                    <button type="button" class="btn-next" data-next="7">Next</button>
                </div>
            </div>
            
            <!-- Section 7: Final Questions & Consent -->
            <div class="form-section" data-section="7">
                <h2>Final Questions</h2>
                
                <div class="form-group">
                    <label>Have you tried implementing automation solutions before?</label>
                    <div class="radio-group">
                        <div class="radio-option" data-value="yes" data-target="previous_experience">
                            <input type="radio" id="previous_yes" name="previous_automation" value="yes">
                            <label for="previous_yes">Yes</label>
                        </div>
                        <div class="radio-option" data-value="no" data-target="previous_experience">
                            <input type="radio" id="previous_no" name="previous_automation" value="no">
                            <label for="previous_no">No</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="previous_experience_details" style="display:none;">
                    <label for="previous_experience">What was your experience with previous automation attempts?</label>
                    <textarea id="previous_experience" name="previous_experience" rows="3"></textarea>
                    <p class="tip">Let us know what worked well and what challenges you faced.</p>
                </div>
                
                <div class="form-group">
                    <label for="decision_timeline">How soon would you like to start saving time and money with automation?</label>
                    <select id="decision_timeline" name="decision_timeline">
                        <option value="">Select your ideal start date</option>
                        <option value="immediate">As soon as possible - ready to transform my business now</option>
                        <option value="near_term">Within the next 30 days - eager to see quick results</option>
                        <option value="medium_term">Next quarter - planning ahead for upcoming projects</option>
                        <option value="exploring">Still researching, but interested in moving forward soon</option>
                    </select>
                    <p class="tip">Businesses that implement automation sooner typically see ROI within weeks, not months.</p>
                </div>
                
                <div class="form-group">
                    <label for="additional_info">Is there anything else you'd like us to know?</label>
                    <textarea id="additional_info" name="additional_info" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="consent" name="consent" required>
                        <label for="consent">I consent to having my information processed to receive business solutions recommendations. We respect your privacy and will protect your information.</label>
                        <div class="error" id="consent-error">Please check this box to continue</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="consultation" name="consultation">
                        <label for="consultation">I'm interested in booking a FREE 30-minute strategy session to discuss automation opportunities for my business.</label>
                    </div>
                </div>
                
                <div class="buttons">
                    <button type="button" class="btn-prev" data-prev="6">Previous</button>
                    <button type="submit" class="btn-submit">Submit Assessment</button>
                </div>
            </div>
            
            <!-- Thank You Section -->
            <div class="form-section" data-section="thank-you" style="display:none;">
                <div class="thank-you">
                    <div class="success-icon"></div>
                    <h2>Thank You for Completing the Assessment!</h2>
                    <p>Our team will review your responses and get in touch with personalized recommendations for your business automation needs.</p>
                    <p>If you indicated interest in a strategy session, we'll reach out to schedule a convenient time.</p>
                </div>
            </div>
        </form>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Form navigation
            const sections = document.querySelectorAll('.form-section');
            const progressBar = document.querySelector('.progress-bar-fill');
            const progressText = document.querySelector('.progress-text');
            const totalSections = sections.length - 1; // Exclude thank you section
            
            // Industry-specific questions
            const industrySelect = document.getElementById('industry');
            const healthcareQuestions = document.getElementById('healthcare-questions');
            const retailQuestions = document.getElementById('retail-questions');
            
            industrySelect.addEventListener('change', function() {
                // Hide all industry-specific questions first
                document.querySelectorAll('.industry-specific-questions').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Show questions based on selection
                if (this.value === 'healthcare') {
                    healthcareQuestions.style.display = 'block';
                } else if (this.value === 'retail') {
                    retailQuestions.style.display = 'block';
                }
            });
            
            // Company size specific questions
            const employeesSelect = document.getElementById('employees');
            const smallBusinessQuestions = document.getElementById('small-business-questions');
            const largeOrgQuestions = document.getElementById('large-org-questions');
            
            employeesSelect.addEventListener('change', function() {
                // Hide all size-specific questions first
                document.querySelectorAll('.size-specific-questions').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Show questions based on selection
                if (this.value === '1-10') {
                    smallBusinessQuestions.style.display = 'block';
                } else if (this.value === '51-200' || this.value === '201-500' || this.value === '500+') {
                    largeOrgQuestions.style.display = 'block';
                }
            });
            
            // Next button click
            document.querySelectorAll('.btn-next').forEach(button => {
                button.addEventListener('click', function() {
                    const currentSection = parseInt(this.getAttribute('data-next')) - 1;
                    const nextSection = parseInt(this.getAttribute('data-next'));
                    
                    // Validate the current section before proceeding
                    if (validateSection(currentSection)) {
                        // Hide current section
                        document.querySelector(`.form-section[data-section="${currentSection}"]`).classList.remove('active');
                        
                        // Show next section
                        document.querySelector(`.form-section[data-section="${nextSection}"]`).classList.add('active');
                        
                        // Update progress
                        updateProgress(nextSection);
                    }
                });
            });
            
            // Previous button click
            document.querySelectorAll('.btn-prev').forEach(button => {
                button.addEventListener('click', function() {
                    const currentSection = parseInt(this.getAttribute('data-prev')) + 1;
                    const prevSection = parseInt(this.getAttribute('data-prev'));
                    
                    // Hide current section
                    document.querySelector(`.form-section[data-section="${currentSection}"]`).classList.remove('active');
                    
                    // Show previous section
                    document.querySelector(`.form-section[data-section="${prevSection}"]`).classList.add('active');
                    
                    // Update progress
                    updateProgress(prevSection);
                });
            });
            
            // Handle rating scales with conditional logic for high ratings
            document.querySelectorAll('.rating-scale').forEach(scale => {
                const options = scale.querySelectorAll('.rating-option');
                const inputName = scale.getAttribute('data-name');
                const hiddenInput = document.getElementById(inputName);
                
                options.forEach(option => {
                    option.addEventListener('click', function() {
                        const value = parseInt(this.getAttribute('data-value'));
                        
                        // Remove selected class from all options
                        options.forEach(opt => {
                            opt.querySelector('.rating-circle').classList.remove('selected');
                        });
                        
                        // Add selected class to clicked option
                        this.querySelector('.rating-circle').classList.add('selected');
                        
                        // Update hidden input value
                        hiddenInput.value = value;
                        
                        // Handle conditional follow-up questions for high ratings (4-5)
                        const followUpId = `${inputName}_followup`;
                        const followUpElement = document.getElementById(followUpId);
                        
                        if (followUpElement) {
                            if (value >= 4) {
                                followUpElement.style.display = 'block';
                            } else {
                                followUpElement.style.display = 'none';
                            }
                        }
                    });
                });
            });
            
            // Handle radio options
            document.querySelectorAll('.radio-option').forEach(option => {
                option.addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    const targetGroup = this.getAttribute('data-target');
                    const radioInput = this.querySelector('input[type="radio"]');
                    
                    // Set radio input as checked
                    radioInput.checked = true;
                    
                    // Remove selected class from all options in the same group
                    document.querySelectorAll(`.radio-option[data-target="${targetGroup}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Show/hide conditional fields
                    if (targetGroup === 'previous_experience') {
                        const detailsField = document.getElementById('previous_experience_details');
                        if (value === 'yes') {
                            detailsField.style.display = 'block';
                        } else {
                            detailsField.style.display = 'none';
                        }
                    }
                });
            });
            
            // Limit priority checkboxes to 3
            const priorityCheckboxes = document.querySelectorAll('#priority-areas input[type="checkbox"]');
            priorityCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const checked = document.querySelectorAll('#priority-areas input[type="checkbox"]:checked');
                    
                    if (checked.length > 3) {
                        this.checked = false;
                        document.getElementById('priorities-error').style.display = 'block';
                    } else {
                        document.getElementById('priorities-error').style.display = 'none';
                    }
                });
            });
            
            // Form submission
            document.getElementById('needs-assessment').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate the final section
                if (validateSection(7)) {
                    // Hide the final section
                    document.querySelector('.form-section[data-section="7"]').classList.remove('active');
                    
                    // Show the thank you section
                    document.querySelector('.form-section[data-section="thank-you"]').style.display = 'block';
                    
                    // Hide progress bar
                    document.querySelector('.progress-container').style.display = 'none';
                    
                    // In a real implementation, you would send the form data to your server here
                    // const formData = new FormData(this);
                    // fetch('/submit-assessment', {
                    //     method: 'POST',
                    //     body: formData
                    // });
                }
            });
            
            // Update progress bar
            function updateProgress(sectionNumber) {
                const progress = ((sectionNumber - 1) / (totalSections - 1)) * 100;
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}% Complete`;
            }
            
            // Validate section
            function validateSection(sectionNumber) {
                let isValid = true;
                
                // Only validate required fields in the first section
                if (sectionNumber === 1) {
                    const requiredFields = document.querySelectorAll('.form-section[data-section="1"] [required]');
                    
                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            isValid = false;
                            document.getElementById(`${field.id}-error`).style.display = 'block';
                        } else {
                            document.getElementById(`${field.id}-error`).style.display = 'none';
                        }
                    });
                    
                    // Validate email format
                    const emailField = document.getElementById('email');
                    if (emailField.value && !isValidEmail(emailField.value)) {
                        isValid = false;
                        document.getElementById('email-error').style.display = 'block';
                    }
                }
                
                // Validate consent checkbox in the final section
                if (sectionNumber === 7) {
                    const consentCheckbox = document.getElementById('consent');
                    if (!consentCheckbox.checked) {
                        isValid = false;
                        document.getElementById('consent-error').style.display = 'block';
                    } else {
                        document.getElementById('consent-error').style.display = 'none';
                    }
                }
                
                return isValid;
            }
            
            // Email validation helper
            function isValidEmail(email) {
                const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return regex.test(email);
            }
            
            // Initialize progress
            updateProgress(1);
        });
    </script>
</body>
</html>
